
# üéì LLM Course Advisor (Thai) ‚Äî RAG + FAISS + LiteLLM + Streamlit

‡πÅ‡∏≠‡∏õ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà:
- ‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤‡∏à‡∏≤‡∏Å `cs_coursedata.xlsx` ‡∏î‡πâ‡∏ß‡∏¢ **pandas**
- ‡∏™‡∏£‡πâ‡∏≤‡∏á **RAG** ‡∏î‡πâ‡∏ß‡∏¢ FAISS + Embedding (Sentence-Transformers) + Hybrid Search (semantic + keyword/fuzzy)
- ‡πÉ‡∏ä‡πâ **LiteLLM** ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏£‡∏µ‡∏¢‡∏Å LLM
- ‡∏ó‡∏≥ UI ‡πÅ‡∏ö‡∏ö Chatbot ‡∏î‡πâ‡∏ß‡∏¢ **Streamlit** ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏Å‡πá‡∏ö chat history
- **Filter ‡∏Å‡πà‡∏≠‡∏ô** ‡∏Ñ‡πà‡∏≠‡∏¢‡∏™‡πà‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤/‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ ‡∏ï‡∏≤‡∏°‡∏™‡πÄ‡∏õ‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì

## ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå

```
course_advisor_app/
‚îú‚îÄ‚îÄ app.py
‚îú‚îÄ‚îÄ rag_core.py
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ (‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ) /mnt/data/cs_coursedata.xlsx
```

> ‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏à‡∏£‡∏¥‡∏á: `‡∏£‡∏´‡∏±‡∏™‡∏ß‡∏¥‡∏ä‡∏≤, ‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ä‡∏≤, ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï, ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏, ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏ß‡∏¥‡∏ä‡∏≤, ‡πÄ‡∏ó‡∏≠‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡∏™‡∏≠‡∏ô, ‡∏ä‡∏±‡πâ‡∏ô‡∏õ‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏ô, ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ß‡∏¥‡∏ä‡∏≤, ‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤`

## ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

1) ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á dependencies
```bash
pip install -r requirements.txt
```

2) ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ API Key ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö LiteLLM (‡πÄ‡∏ä‡πà‡∏ô‡πÉ‡∏ä‡πâ OpenAI)
```bash
export OPENAI_API_KEY=...         # ‡∏´‡∏£‡∏∑‡∏≠ LITELLM_API_KEY=...
```

3) ‡∏£‡∏±‡∏ô‡πÅ‡∏≠‡∏õ
```bash
streamlit run app.py
```

4) ‡πÉ‡∏ô Sidebar ‡∏ï‡∏±‡πâ‡∏á path ‡πÑ‡∏ü‡∏•‡πå Excel (‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Ñ‡∏∑‡∏≠ `/mnt/data/cs_coursedata.xlsx`) ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏°‡πÄ‡∏î‡∏• ‡πÄ‡∏ä‡πà‡∏ô `gpt-4o-mini`

## ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏Å

- **Save/Load FAISS Index:** ‡πÅ‡∏≠‡∏õ‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á index ‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå `.faiss_cache` ‡∏Ç‡πâ‡∏≤‡∏á‡πÜ‡πÑ‡∏ü‡∏•‡πå Excel ‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à fingerprint ‡∏Ç‡∏≠‡∏á‡πÑ‡∏ü‡∏•‡πå ‡∏´‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå Excel ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏∞ re-build ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- **Hybrid Search:** ‡πÉ‡∏ä‡πâ FAISS (semantic) + ‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô keyword/fuzzy (rapidfuzz) ‡∏ú‡∏™‡∏°‡∏î‡πâ‡∏ß‡∏¢ `alpha`
- **Filter ‡∏Å‡πà‡∏≠‡∏ô:** ‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á ‡∏õ‡∏µ/‡πÄ‡∏ó‡∏≠‡∏°/‡πÅ‡∏ú‡∏ô/‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ß‡∏¥‡∏ä‡∏≤ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏î‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ß‡∏¥‡∏ä‡∏≤‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ ‡∏Å‡πà‡∏≠‡∏ô‡∏à‡∏∞‡∏™‡πà‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤/‡∏ï‡∏≠‡∏ö/‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥
- **‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ß‡∏¥‡∏ä‡∏≤:** ‡∏ñ‡πâ‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ß‡πà‡∏≤ *‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥/‡∏à‡∏±‡∏î/‡∏Ñ‡∏ß‡∏£‡∏•‡∏á/‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô...* ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏à‡∏±‡∏ö intent ‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏•‡∏¥‡∏™‡∏ï‡πå **‡∏ß‡∏¥‡∏ä‡∏≤‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏Å‡πà‡∏≠‡∏ô** ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡∏ï‡∏≤‡∏°‡∏î‡πâ‡∏ß‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ô‡πÉ‡∏à
- **Q&A:** ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡∏à‡∏∞‡∏î‡∏∂‡∏á‡∏ö‡∏£‡∏¥‡∏ö‡∏ó top-k ‡∏à‡∏≤‡∏Å‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏≠‡∏á‡πÑ‡∏ß‡πâ ‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ä‡πâ LLM (‡∏ú‡πà‡∏≤‡∏ô LiteLLM) ‡∏ï‡∏≠‡∏ö

## ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á

- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô embedding ‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á LiteLLM ‡πÑ‡∏î‡πâ ‡πÇ‡∏î‡∏¢‡πÅ‡∏Å‡πâ‡πÉ‡∏ô `rag_core.py` ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô `embed_texts` ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å `litellm.embedding()` ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏°‡πÄ‡∏î‡∏• embedding
- ‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ BM25 ‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏±‡∏á ‡πÉ‡∏´‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á `rank-bm25` ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏ó‡∏ô‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô `_keyword_score`

## ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏

- ‡πÇ‡∏Ñ‡πâ‡∏î‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡∏≠‡∏∞‡πÑ‡∏£‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏à‡∏≤‡∏Å‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏ü‡∏•‡πå‡∏°‡∏µ‡∏à‡∏£‡∏¥‡∏á
- ‡∏†‡∏≤‡∏©‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢
